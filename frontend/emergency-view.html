<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emergency Scenario Overview - Smart Parking</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      .scenario-accent {
        color: #0f766e;
      }
      .analytics-body {
        min-height: 100vh;
        background: radial-gradient(circle at top left, #ccfbf1, #f9fafb);
        padding: 16px;
        font-family: "Segoe UI", Arial, sans-serif;
      }
    </style>
  </head>
  <body class="analytics-body">
    <div class="analytics-shell">
      <div class="analytics-header">
        <div>
          <h1 class="analytics-title scenario-accent">Emergency scenario</h1>
          <p class="analytics-subtitle" id="analytics-subtitle">
            Emergency mode applied, prioritising critical routes.
          </p>
        </div>
        <a href="dashboard.html" class="link-button">Back to dashboard</a>
      </div>

      <div class="charts-grid">
        <section class="chart-card">
          <h2 class="chart-title">Occupancy by status</h2>
          <p class="chart-subtitle">
            Vacant, occupied and unavailable slots after running Emergency mode.
          </p>
          <div id="bars"></div>
        </section>

        <section class="chart-card">
          <h2 class="chart-title">Occupancy distribution</h2>
          <p class="chart-subtitle">
            Proportion of each status when emergency restrictions are active.
          </p>
          <div style="display: flex, gap: 12px; align-items: center">
            <div class="pie-circle">
              <div class="pie-inner">
                <div id="pie-total" style="font-weight: 600">0 slots</div>
                <div id="pie-feature" style="font-size: 11px; color: #64748b">
                  -
                </div>
              </div>
            </div>
            <div class="pie-legend">
              <div class="pie-legend-item">
                <span class="pie-swatch vacant"></span>
                <span>Vacant</span>
              </div>
              <div class="pie-legend-item">
                <span class="pie-swatch occupied"></span>
                <span>Occupied</span>
              </div>
              <div class="pie-legend-item">
                <span class="pie-swatch blocked"></span>
                <span>Unavailable</span>
              </div>
            </div>
          </div>
        </section>
      </div>

      <div style="margin-top: 16px">
        <section class="chart-card">
          <h2 class="chart-title">Parking layout preview</h2>
          <p class="chart-subtitle">
            Compact layout showing how emergency rules affect slots.
          </p>
          <div id="layout-grid" class="layout-grid"></div>
        </section>
      </div>
    </div>

    <script src="scenario-view.js"></script>
  </body>
</html>

